!function(a){"function"==typeof define&&define.amd?define(["jquery"],a):a(jQuery)}(function(d){function g(){var a=b(this),i=f.settings;return isNaN(a.datetime)||(0==i.cutoff||Math.abs(j(a.datetime))<i.cutoff)&&d(this).text(c(a.datetime)),this}function b(k){if(k=d(k),!k.data("timeago")){k.data("timeago",{datetime:f.datetime(k)});var i=d.trim(k.text());f.settings.localeTitle?k.attr("title",k.data("timeago").datetime.toLocaleString()):!(i.length>0)||f.isTime(k)&&k.attr("title")||k.attr("title",i)}return k.data("timeago")}function c(a){return f.inWords(j(a))}function j(a){return(new Date).getTime()-a.getTime()}d.timeago=function(a){return c(a instanceof Date?a:"string"==typeof a?d.timeago.parse(a):"number"==typeof a?new Date(a):d.timeago.datetime(a))};var f=d.timeago;d.extend(d.timeago,{settings:{refreshMillis:60000,allowPast:!0,allowFuture:!1,localeTitle:!1,cutoff:0,strings:{prefixAgo:null,prefixFromNow:null,suffixAgo:"ago",suffixFromNow:"from now",inPast:"any moment now",seconds:"less than a minute",minute:"about a minute",minutes:"%d minutes",hour:"about an hour",hours:"about %d hours",day:"a day",days:"%d days",month:"about a month",months:"%d months",year:"about a year",years:"%d years",wordSeparator:" ",numbers:[]}},inWords:function(y){function A(e,m){var i=d.isFunction(e)?e(m,y):e,l=w.numbers&&w.numbers[m]||m;return i.replace(/%d/i,l)}if(!this.settings.allowPast&&!this.settings.allowFuture){throw"timeago allowPast and allowFuture settings can not both be set to false."}var w=this.settings.strings,q=w.prefixAgo,k=w.suffixAgo;if(this.settings.allowFuture&&0>y&&(q=w.prefixFromNow,k=w.suffixFromNow),!this.settings.allowPast&&y>=0){return this.settings.strings.inPast}var p=Math.abs(y)/1000,C=p/60,B=C/60,t=B/24,v=t/365,z=45>p&&A(w.seconds,Math.round(p))||90>p&&A(w.minute,1)||45>C&&A(w.minutes,Math.round(C))||90>C&&A(w.hour,1)||24>B&&A(w.hours,Math.round(B))||42>B&&A(w.day,1)||30>t&&A(w.days,Math.round(t))||45>t&&A(w.month,1)||365>t&&A(w.months,Math.round(t/30))||1.5>v&&A(w.year,1)||A(w.years,Math.round(v)),x=w.wordSeparator||"";return void 0===w.wordSeparator&&(x=" "),d.trim([q,z,k].join(x))},parse:function(k){var i=d.trim(k);return i=i.replace(/\.\d+/,""),i=i.replace(/-/,"/").replace(/-/,"/"),i=i.replace(/T/," ").replace(/Z/," UTC"),i=i.replace(/([\+\-]\d\d)\:?(\d\d)/," $1$2"),i=i.replace(/([\+\-]\d\d)$/," $100"),new Date(i)},datetime:function(k){var i=d(k).attr(f.isTime(k)?"datetime":"title");return f.parse(i)},isTime:function(a){return"time"===d(a).get(0).tagName.toLowerCase()}});var h={init:function(){var e=d.proxy(g,this);e();var k=f.settings;k.refreshMillis>0&&(this._timeagoInterval=setInterval(e,k.refreshMillis))},update:function(e){var k=f.parse(e);d(this).data("timeago",{datetime:k}),f.settings.localeTitle&&d(this).attr("title",k.toLocaleString()),g.apply(this)},updateFromDOM:function(){d(this).data("timeago",{datetime:f.parse(d(this).attr(f.isTime(this)?"datetime":"title"))}),g.apply(this)},dispose:function(){this._timeagoInterval&&(window.clearInterval(this._timeagoInterval),this._timeagoInterval=null)}};d.fn.timeago=function(k,l){var i=k?h[k]:h.init;if(!i){throw new Error("Unknown function name '"+k+"' for timeago")}return this.each(function(){i.call(this,l)}),this},document.createElement("abbr"),document.createElement("time")});