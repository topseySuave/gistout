(function(){function c(e,d){window.XMLHttpRequest.prototype[e]=d(window.XMLHttpRequest.prototype[e])}function b(g,h,d){try{Object.defineProperty(g,h,{get:d})}catch(f){}}if(!window.FileAPI){window.FileAPI={}}if(!window.XMLHttpRequest){throw"AJAX is not supported. XMLHttpRequest is not defined."}FileAPI.shouldLoad=!window.FormData||FileAPI.forceLoad;if(FileAPI.shouldLoad){var a=function(d){if(!d.__listeners){if(!d.upload){d.upload={}}d.__listeners=[];var e=d.upload.addEventListener;d.upload.addEventListener=function(f,g){d.__listeners[f]=g;if(e){e.apply(this,arguments)}}}};c("open",function(d){return function(g,h,f){a(this);this.__url=h;try{d.apply(this,[g,h,f])}catch(i){if(i.message.indexOf("Access is denied")>-1){this.__origError=i;d.apply(this,[g,"_fix_for_ie_crossdomain__",f])}}}});c("getResponseHeader",function(d){return function(e){return this.__fileApiXHR&&this.__fileApiXHR.getResponseHeader?this.__fileApiXHR.getResponseHeader(e):(d==null?null:d.apply(this,[e]))}});c("getAllResponseHeaders",function(d){return function(){return this.__fileApiXHR&&this.__fileApiXHR.getAllResponseHeaders?this.__fileApiXHR.getAllResponseHeaders():(d==null?null:d.apply(this))}});c("abort",function(d){return function(){return this.__fileApiXHR&&this.__fileApiXHR.abort?this.__fileApiXHR.abort():(d==null?null:d.apply(this))}});c("setRequestHeader",function(d){return function(g,e){if(g==="__setXHR_"){a(this);var f=e(this);if(f instanceof Function){f(this)}}else{this.__requestHeaders=this.__requestHeaders||{};this.__requestHeaders[g]=e;d.apply(this,arguments)}}});c("send",function(d){return function(){var j=this;if(arguments[0]&&arguments[0].__isFileAPIShim){var h=arguments[0];var e={url:j.__url,jsonp:false,cache:true,complete:function(k,i){if(k&&angular.isString(k)&&k.indexOf("#2174")!==-1){k=null}j.__completed=true;if(!k&&j.__listeners.load){j.__listeners.load({type:"load",loaded:j.__loaded,total:j.__total,target:j,lengthComputable:true})}if(!k&&j.__listeners.loadend){j.__listeners.loadend({type:"loadend",loaded:j.__loaded,total:j.__total,target:j,lengthComputable:true})}if(k==="abort"&&j.__listeners.abort){j.__listeners.abort({type:"abort",loaded:j.__loaded,total:j.__total,target:j,lengthComputable:true})}if(i.status!==undefined){b(j,"status",function(){return(i.status===0&&k&&k!=="abort")?500:i.status})}if(i.statusText!==undefined){b(j,"statusText",function(){return i.statusText})}b(j,"readyState",function(){return 4});if(i.response!==undefined){b(j,"response",function(){return i.response})}var l=i.responseText||(k&&i.status===0&&k!=="abort"?k:undefined);b(j,"responseText",function(){return l});b(j,"response",function(){return l});if(k){b(j,"err",function(){return k})}j.__fileApiXHR=i;if(j.onreadystatechange){j.onreadystatechange()}if(j.onload){j.onload()}},progress:function(i){i.target=j;if(j.__listeners.progress){j.__listeners.progress(i)}j.__total=i.total;j.__loaded=i.loaded;if(i.total===i.loaded){var k=this;setTimeout(function(){if(!j.__completed){j.getAllResponseHeaders=function(){};k.complete(null,{status:204,statusText:"No Content"})}},FileAPI.noContentTimeout||10000)}},headers:j.__requestHeaders};e.data={};e.files={};for(var f=0;f<h.data.length;f++){var g=h.data[f];if(g.val!=null&&g.val.name!=null&&g.val.size!=null&&g.val.type!=null){e.files[g.key]=g.val}else{e.data[g.key]=g.val}}setTimeout(function(){if(!FileAPI.hasFlash){throw'Adode Flash Player need to be installed. To check ahead use "FileAPI.hasFlash"'}j.__fileApiXHR=FileAPI.upload(e)},1)}else{if(this.__origError){throw this.__origError}d.apply(j,arguments)}}});window.XMLHttpRequest.__isFileAPIShim=true;window.FormData=FormData=function(){return{append:function(e,f,d){if(f.__isFileAPIBlobShim){f=f.data[0]}this.data.push({key:e,val:f,name:d})},data:[],__isFileAPIShim:true}};window.Blob=Blob=function(d){return{data:d,__isFileAPIBlobShim:true}}}})();(function(){function f(i){return i[0].tagName.toLowerCase()==="input"&&i.attr("type")&&i.attr("type").toLowerCase()==="file"}function e(){try{var i=new ActiveXObject("ShockwaveFlash.ShockwaveFlash");if(i){return true}}catch(l){if(navigator.mimeTypes["application/x-shockwave-flash"]!==undefined){return true}}return false}function k(m){var l=0,i=0;if(window.jQuery){return jQuery(m).offset()}if(m.offsetParent){do{l+=(m.offsetLeft-m.scrollLeft);i+=(m.offsetTop-m.scrollTop);m=m.offsetParent}while(m)}return{left:l,top:i}}if(FileAPI.shouldLoad){FileAPI.hasFlash=e();if(FileAPI.forceLoad){FileAPI.html5=false}if(!FileAPI.upload){var h,j,g=document.createElement("script"),b=document.getElementsByTagName("script"),c,d,a;if(window.FileAPI.jsUrl){h=window.FileAPI.jsUrl}else{if(window.FileAPI.jsPath){j=window.FileAPI.jsPath}else{for(c=0;c<b.length;c++){a=b[c].src;d=a.search(/\/ng\-file\-upload[\-a-zA-z0-9\.]*\.js/);if(d>-1){j=a.substring(0,d+1);break}}}}if(FileAPI.staticPath==null){FileAPI.staticPath=j}g.setAttribute("src",h||j+"FileAPI.min.js");document.getElementsByTagName("head")[0].appendChild(g)}FileAPI.ngfFixIE=function(o,l,n){if(!e()){throw'Adode Flash Player need to be installed. To check ahead use "FileAPI.hasFlash"'}var m=function(){var p=l.parent();if(o.attr("disabled")){if(p){p.removeClass("js-fileapi-wrapper")}}else{if(!l.attr("__ngf_flash_")){l.unbind("change");l.unbind("click");l.bind("change",function(q){i.apply(this,[q]);n.apply(this,[q])});l.attr("__ngf_flash_","true")}p.addClass("js-fileapi-wrapper");if(!f(o)){p.css("position","absolute").css("top",k(o[0]).top+"px").css("left",k(o[0]).left+"px").css("width",o[0].offsetWidth+"px").css("height",o[0].offsetHeight+"px").css("filter","alpha(opacity=0)").css("display",o.css("display")).css("overflow","hidden").css("z-index","900000").css("visibility","visible");l.css("width",o[0].offsetWidth+"px").css("height",o[0].offsetHeight+"px").css("position","absolute").css("top","0px").css("left","0px")}}};o.bind("mouseenter",m);var i=function(p){var r=FileAPI.getFiles(p);for(var q=0;q<r.length;q++){if(r[q].size===undefined){r[q].size=0}if(r[q].name===undefined){r[q].name="file"}if(r[q].type===undefined){r[q].type="undefined"}}if(!p.target){p.target={}}p.target.files=r;if(p.target.files!==r){p.__files_=r}(p.__files_||p.target.files).item=function(s){return(p.__files_||p.target.files)[s]||null}}};FileAPI.disableFileInput=function(l,i){if(i){l.removeClass("js-fileapi-wrapper")}else{l.addClass("js-fileapi-wrapper")}}}})();if(!window.FileReader){window.FileReader=function(){var d=this,a=false;this.listeners={};this.addEventListener=function(f,e){d.listeners[f]=d.listeners[f]||[];d.listeners[f].push(e)};this.removeEventListener=function(f,e){if(d.listeners[f]){d.listeners[f].splice(d.listeners[f].indexOf(e),1)}};this.dispatchEvent=function(e){var g=d.listeners[e.type];if(g){for(var f=0;f<g.length;f++){g[f].call(d,e)}}};this.onabort=this.onerror=this.onload=this.onloadstart=this.onloadend=this.onprogress=null;var b=function(g,f){var h={type:g,target:d,loaded:f.loaded,total:f.total,error:f.error};if(f.result!=null){h.target.result=f.result}return h};var c=function(f){if(!a){a=true;if(d.onloadstart){d.onloadstart(b("loadstart",f))}}var g;if(f.type==="load"){if(d.onloadend){d.onloadend(b("loadend",f))}g=b("load",f);if(d.onload){d.onload(g)}d.dispatchEvent(g)}else{if(f.type==="progress"){g=b("progress",f);if(d.onprogress){d.onprogress(g)}d.dispatchEvent(g)}else{g=b("error",f);if(d.onerror){d.onerror(g)}d.dispatchEvent(g)}}};this.readAsDataURL=function(e){FileAPI.readAsDataURL(e,c)};this.readAsText=function(e){FileAPI.readAsText(e,c)}}};